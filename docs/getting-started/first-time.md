# 🎯 第一次使用

> 準備好體驗 OpenCode 的強大功能了嗎？這裡將帶你完成從零到熟的第一次使用體驗！

## 🚀 開始你的 OpenCode 之旅

### 📍 第一步：啟動 OpenCode TUI

```bash
# 在終端中輸入
opencode
```

你將看到類似這樣的界面：

```
┌─────────────────────────────────────────────────────────────────────┐
│ OpenCode - The open source AI coding agent                           │
│                                                                     │
│ Welcome! Let's get you set up with your preferred LLM provider.     │
│                                                                     │
│ Type /connect to get started, or /help for available commands.      │
│                                                                     │
│ ┌─────────────────────────────────────────────────────────────────┐ │
│ │>                                                                │ │
│ └─────────────────────────────────────────────────────────────────┘ │
│                                                                     │
│ [Plan Mode] │ [Connected: None] │ [Model: None]                     │
└─────────────────────────────────────────────────────────────────────┘
```

### 🔑 第二步：連接 LLM 提供商

在 OpenCode TUI 中輸入：

```
/connect
```

你將看到提供商選擇界面：

```
┌─────────────────┬─────────────────────────────────────────────────────┐
│ Provider        │ Description                                     │
├─────────────────┼─────────────────────────────────────────────────────┤
│ opencode        │ OpenCode's curated list of tested models        │
│ openai          │ GPT-3.5 and GPT-4 models                         │
│ anthropic       │ Claude models                                    │
│ google          │ Vertex AI (Gemini) models                        │
│ azure           │ Azure OpenAI services                            │
│ ...             │ ...                                              │
└─────────────────┴─────────────────────────────────────────────────────┘
```

#### 🌟 推薦新手：選擇 OpenCode Zen

使用方向鍵選擇 `opencode`，然後按 Enter。

#### 📋 完整連接流程

1. **選擇提供商** - 使用方向鍵，Enter 確認
2. **獲取 API 金鑰** - 系統會引導你到瀏覽器
3. **輸入金鑰** - 回到終端，貼上 API 金鑰
4. **測試連接** - 系統自動驗證連接是否成功

### 🎯 第三步：選擇你的 AI 模型

成功連接後，你會看到可用模型列表：

```
┌─────────────────────────────┬──────────┬─────────────┬────────────┐
│ Model                      │ Type     │ Context     │ Cost/1K    │
├─────────────────────────────┼──────────┼─────────────┼────────────┤
│ claude-3-5-sonnet          │ Anthropic│ 200K        │ $0.015     │
│ claude-3-haiku             │ Anthropic│ 200K        │ $0.0025    │
│ gpt-4o                     │ OpenAI   │ 128K        │ $0.005     │
│ gpt-4o-mini                │ OpenAI   │ 128K        │ $0.00015   │
│ ...                        │ ...      │ ...         │ ...        │
└─────────────────────────────┴──────────┴─────────────┴────────────┘
```

#### 🧠 推薦選擇

**日常使用**（平衡性能和成本）：
- `claude-3-haiku` - 快速、便宜，適合日常任務
- `gpt-4o-mini` - 功能強大，成本極低

**複雜任務**（需要高質量回應）：
- `claude-3-5-sonnet` - 最佳品質，適合重要工作
- `gpt-4o` - OpenAI 最強模型

### 🎮 第四步：基本界面操作

熟悉 TUI 的核心操作：

#### 📍 介面元素認識

```
┌─ 輸入區域 ────────────────────────────────────────────────────────┐
│> 請用繁體中文介紹你自己                                           │
└───────────────────────────────────────────────────────────────────┘

📝 訊息區域
👤 你: 請用繁體中文介紹你自己
🤖 AI: 您好！我是您的 AI 編程助手...
─────────────────────────────────────────────────────────────────────
📋 狀態列
[Build Mode] │ [Connected: opencode] │ [Model: claude-3-haiku]
```

#### ⌨️ 基本快捷鍵

| 快捷鍵 | 功能 | 說明 |
|--------|------|------|
| `Enter` | 發送訊息 | 執行你的命令或問題 |
| `Ctrl+C` | 中斷操作 | 停止當前的 AI 回應 |
| `Ctrl+X, Q` | 離開程式 | 優雅地退出 OpenCode |
| `Ctrl+X, H` | 顯示幫助 | 查看所有可用命令 |
| `Tab` | 切換模式 | Build Mode ↔ Plan Mode |

#### 🔍 命令系統

OpenCode 支援兩種類型的輸入：

**1. 直接對話**（常規 AI 互動）
```
> 請解釋什麼是 React Hooks
> 幫我寫一個 Python 的 REST API
> 這段程式碼有什麼問題？
```

**2. 命令操作**（以 `/` 開頭）
```
> /connect          # 連接提供商
> /models            # 查看可用模型
> /help              # 顯示幫助資訊
> /share             # 分享當前會話
> /undo              # 撤銷上一次操作
```

## 🎯 你的第一個 AI 對話

### 📝 基本測試

讓我們來測試基本功能：

```bash
# 在 OpenCode TUI 中輸入
> 你好！請用繁體中文介紹你自己，並告訴我你能做什麼
```

**預期回應：**
```
🤖 AI: 您好！我是 OpenCode，您的 AI 編程助手。我可以：

🔧 程式設計協助
- 撰寫和修改程式碼
- 解釋複雜的技術概念
- 程式碼審查和優化建議

📚 技術諮詢
- 解答程式設計相關問題
- 推薦最佳實踐和工具
- 架構設計建議

🎯 專案管理
- 協助專案規劃
- 生成文檔和註解
- 測試策略建議

有什麼我可以幫助您的嗎？
```

### 💻 程式碼生成測試

```bash
> 請用 Python 創建一個簡單的 REST API，包含以下端點：
> 1. GET /hello - 返回歡迎訊息
> 2. GET /users - 返回用戶列表
> 3. POST /users - 創建新用戶
> 請使用 Flask 框架，並包含適當的錯誤處理
```

你應該會看到 AI 生成完整的程式碼，包含：
- 導入必要的庫
- Flask 應用設定
- 端點實現
- 錯誤處理
- 使用說明

## 🔄 模式切換體驗

### 🏗️ Build Mode vs Plan Mode

OpenCode 有兩種主要模式，讓我們體驗它們的差異：

#### **Build Mode**（預設模式）
- ✅ 可以修改檔案
- ✅ 可以執行系統命令
- ✅ 完整的開發能力

```bash
# 確保當前在 Build Mode
> 在當前目錄創建一個名為 hello.py 的檔案，內容是打印 "Hello World"
```

#### **Plan Mode**（規劃模式）
- ❌ 不會實際修改檔案（需要詢問）
- ❌ 不會執行系統命令（需要詢問）
- ✅ 專注於分析和規劃

```bash
# 切換到 Plan Mode
<Tab>
# 現在狀態列應該顯示 [Plan Mode]

> 在當前目錄創建一個名為 hello.py 的檔案，內容是打印 "Hello World"
```

在 Plan Mode 中，AI 會這樣回應：
```
🤖 AI: 我計劃為您創建一個 hello.py 檔案，包含以下內容：

```python
print("Hello World")
```

這個操作會：
1. 在當前目錄創建 hello.py 檔案
2. 寫入 Python 程式碼
3. 使用 print 函數輸出 "Hello World"

要執行這個操作嗎？(y/N)
```

## 📁 專案初始化

### 🎯 在你的專案中使用 OpenCode

現在讓我們在一個實際的專案目錄中初始化 OpenCode：

```bash
# 1. 切換到你的專案目錄（或創建一個練習專案）
cd /path/to/your/project
# 或
mkdir my-first-project
cd my-first-project

# 2. 啟動 OpenCode
opencode

# 3. 初始化專案
/init
```

### 📋 AGENTS.md 自動生成

執行 `/init` 後，OpenCode 會：

1. **分析專案結構**
2. **檢測技術棧**
3. **生成 AGENTS.md**
4. **建立專案特定配置**

生成的 AGENTS.md 會包含：
- 專案概述
- 技術棧說明
- 目錄結構
- 開發規範
- 安全邊界

### 🎨 自定義專案配置

讓我們檢查和調整生成的配置：

```bash
# 查看 AGENTS.md 內容
> 請顯示 AGENTS.md 的內容

# 根據需要調整配置
> 請幫我優化 AGENTS.md，加入 TypeScript 開發規範
```

## 🎯 實用功能展示

### 🔍 檔案搜索和引用

使用 `@` 符號來快速引用檔案：

```bash
# 搜索檔案
> 請分析 @src/main.ts 的內容

# 檔案不存在時會自動搜索
> 解釋 @package.json 中的依賴關係
```

### 💬 上下文對話

OpenCode 會記住對話上下文：

```bash
# 第一次提問
> 什麼是 React 的 useState Hook？

# 後續提問（會記得之前的上下文）
> 請給我一個 useState 的實際使用範例

# 更深入的提問
> 如何在 useState 中處理複雜的物件狀態？
```

### 🔄 撤銷和重做

```bash
# 假設 AI 剛剛修改了一個檔案
> 請幫我修改 src/app.js，加入錯誤處理

# 發現不對，可以撤銷
/undo

# 恢復撤銷的操作
/redo
```

### 📤 分享會話

```bash
# 分享當前對話
/share

# 系統會生成一個分享連結，類似：
# https://opencode.ai/s/abc123def456
```

## ⚡ 進階體驗技巧

### 🎯 高效提問技巧

#### ✅ **好的提問範例**
```
> 請幫我創建一個 TypeScript 的 React 元件，
> 名稱是 UserCard，包含以下屬性：
> - name: string
> - email: string  
> - avatar: string
> 請包含適當的型別定義和基本的樣式
```

#### ❌ **避免的提問方式**
```
> 幫我寫個組件
```

### 🧠 檔案上下文技巧

```bash
# 提供更多上下文
> 請參考 @src/utils/validation.ts 中的驗證邏輯，
> 幫我在 @src/components/Form.tsx 中加入表單驗證功能

# 使用多個檔案
> 請整合 @src/api/user.ts 和 @src/store/userSlice.ts，
> 創建一個完整的用戶管理功能
```

### 🎨 格式化輸出

```bash
# 要求特定格式
> 請用表格形式比較 React、Vue、Angular 的優缺點

# 要求程式碼區塊
> 請提供 Python 的 class 定義範例
```

## 🔧 常見問題解決

### ❌ **連接失敗**

**問題**: API 金鑰無效或網路問題

```bash
# 檢查連接狀態
> /connect

# 重新配置提供商
> 請幫我重新配置 OpenAI 提供商
```

### ❌ **模型不可用**

**問題**: 選擇的模型當前無法使用

```bash
# 查看可用模型
/models

# 切換到其他模型
> 請幫我切換到 claude-3-haiku 模型
```

### ❌ **權限問題**

**問題**: 無法存取檔案或執行命令

```bash
# 檢查當前目錄權限
> 請顯示當前目錄的詳細資訊

# 檢查檔案權限
> 請檢查 package.json 的權限設定
```

## 🎉 恭喜！你已經掌握基礎

完成以上步驟後，你已經成功：

- ✅ **啟動並配置 OpenCode**
- ✅ **連接 LLM 提供商和模型**
- ✅ **掌握基本界面操作**
- ✅ **體驗第一個 AI 對話**
- ✅ **了解 Build vs Plan Mode**
- ✅ **學會檔案引用和上下文對話**
- ✅ **掌握撤銷、重做、分享功能**

## 🚀 下一步學習

你現在已經準備好進入更高級的使用階段！

👉 **[繼續：基本命令學習 →](basic-commands.md)**

---

<div align="center">
  <p><strong>恭喜完成第一次使用體驗！你已經踏上 AI 輔助開發的精彩旅程！</strong></p>
  <p>🎯 小提示：多練習不同的提問方式，發現 OpenCode 的更多可能性</p>
</div>